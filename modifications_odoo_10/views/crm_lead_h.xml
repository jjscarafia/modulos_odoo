<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <record model="ir.ui.view" id="crm_case_form_view_oppor_alt_inherit_form">
        <field name="name">crm.lead.inherit.form.opportunity</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_case_form_view_oppor"/>
        <field name="arch" type="xml">
            
            <xpath expr="//form/sheet/notebook/page[@name='lead']" position = "attributes">
                <attribute name="string">Driver assigned</attribute>
            </xpath>
            
            <field name="partner_id" position="replace">
				<field name="id" string="Correlative" readonly="1"/>
                <field name="product_id"/>
                <field name="customer_id" domain="[('customer','=',1), ('parent_id', '=', False)]"/>
            </field>
            
            <field name="partner_name" position="after">
                <field name="mobile_number"/>
                <field name="email_address"/>
                <field name="landline_number"/>
                <field name="whatsapp_number"/>
                <field name="driver_license"/>
            </field>
            
            <field name="opt_out" position="after">
                <field name="vehicle_type"/>
                <field name="vehicle_model"/>
                <field name="vehicle_color"/>
                <field name="plate_number"/>
                <field name="car_insurance_number"/>
            </field>
            
            <field name="partner_name" position="replace">
                <field name="employee_id"/>
            </field>
            
            <field name="mobile" position="replace">
            </field>
            
            <!--
            <field name="coach_id" position="attributes">
                <attribute name="invisible">True</attribute>
            </field>
            
            <field name="job_id" position="after">
                <field name="vehicle_type"/>
                <field name="vehicle_model"/>
            </field>
            <field name="parent_id" position="replace">
                <field name="vehicle_color"/>
                <field name="plate_number"/>
                <field name="car_insurance_number"/>
            </field>
            
            <field name="mobile_phone" position="replace">
            </field>
            <field name="work_location" position="replace">
            </field>
            <field name="work_email" position="replace">
            </field>
            <field name="work_phone" position="replace">
            </field>
            
            <field name="calendar_id" position="replace">
            </field>
            
            <field name="address_id" position="replace">
                <field name="city_id"/>
                <field name="airport_ids" widget="many2many_tags"/>
                <field name="mobile_phone" string="Mobile number"/>
                <field name="work_email" string="Email address"/>
                <field name="landline_number"/>
                <field name="whatsapp_number"/>
                <field name="driver_license"/>
                <field name="calendar_ids" widget="many2many_tags"/>
            </field>
            
            <xpath expr="//form/sheet/notebook/page[@name='public']/group/group[2]" position = "attributes">
                <attribute name="string"></attribute>
            </xpath>
            
            <xpath expr="//form/sheet/notebook/page[@name='public']/group/group[1]" position = "attributes">
                <attribute name="string"></attribute>
            </xpath>
            
            <xpath expr="//form/sheet/notebook/page[@name='public']" position = "attributes">
                <attribute name="string">Work information</attribute>
            </xpath>
            
            <xpath expr="//form/sheet/notebook/page[@name='public']" position = "before">
                <page name="languages" string="Languages">
                    <field name="language_ids" widget="many2many_tags"/>
                </page>
            </xpath>
            -->
            
        </field>
    </record>
    
    <record model="ir.ui.view" id="view_create_opportunity_simplified_alt_inherit_form">
        <field name="name">crm.lead.inherit.form.simple</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.view_create_opportunity_simplified"/>
        <field name="arch" type="xml">
            
            <field name="partner_id" position="replace">
				<field name="id" string="Correlative" readonly="1"/>
                <field name="product_id"/>
                <field name="customer_id" domain="[('customer','=',1), ('parent_id', '=', False)]"/>
                <field name="employee_id"/>
                <field name="date_and_time"/>
                <field name="journey"/>
            </field>
            
            <!--<field name="name" position = "attributes">
                <attribute name="placeholder">Driver assigned</attribute>
            </field>-->
            
        </field>
    </record>
    
    <record model="ir.ui.view" id="crm_case_kanban_view_leads_inherit_kanban">
        <field name="name">crm.lead.kanban.lead.inherited</field>
        <field name="model">crm.lead</field>
        <field name="inherit_id" ref="crm.crm_case_kanban_view_leads"/>
        <field name="arch" type="xml">
            <xpath expr="//t[@t-name='kanban-box']//div[contains(@class, 'oe_kanban_content')]" position="replace">
                <div>
					<field name="tag_ids"/>
				</div>
				<div>
					<strong><field name="id" string="Correlative" readonly="1"/></strong>
				</div>
				<div>
					<strong><field name="name"/></strong>
				</div>
				<div>
					<strong><field name="product_id"/></strong>
				</div>
				<div>
					<strong><field name="customer_id"/></strong>
				</div>
				<div>
					<strong><field name="employee_id"/></strong>
				</div>
				<div>
					<strong><field name="date_and_time"/></strong>
				</div>
				<div>
					<strong><field name="journey"/></strong>
				</div>
				<div class="text-muted">
					<t t-if="record.planned_revenue.raw_value"><field name="planned_revenue" widget="monetary" options="{'currency_field': 'company_currency'}"/><span t-if="record.partner_id.value">,</span></t> <span t-if="record.partner_id.value"> <t t-esc="record.partner_id.value"/></span>
				</div>

				<div class="o_kanban_footer">
					<field name="priority" widget="priority" groups="base.group_user"/>
					<t t-if="record.message_needaction_counter.raw_value">
						<span class='oe_kanban_mail_new' title='Unread Messages'><i class='fa fa-comments'/><t t-raw="record.message_needaction_counter.raw_value"/></span>
					</t>
					<div>
						<a name="%(crm.crm_activity_log_action)d" type="action" t-if="record.kanban_state.raw_value!='grey'">
						  <span
							t-att-title="record.date_action.value + ': '+ record.title_action.value"
							t-attf-class="oe_kanban_status oe_kanban_status_#{record.kanban_state.raw_value}"/>
						</a>
						<a name="%(crm.crm_activity_schedule_action)d" type="action" t-if="record.kanban_state.raw_value=='grey'">
						  <span
							class="oe_kanban_status oe_kanban_status_grey"/>
						</a>
						<img t-att-src="kanban_image('res.users', 'image_small', record.user_id.raw_value)" t-att-title="record.user_id.value" width="24" height="24" class="oe_kanban_avatar pull-right"/>
					</div>
				</div>
            </xpath>
        </field>
    </record>
    
</odoo>
